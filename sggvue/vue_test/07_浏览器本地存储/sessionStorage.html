<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <!-- 浏览器一关闭里边数据就没有了 -->
        <button onclick="saveData()">点我保存一个数据</button>
        <button onclick="readData()">点我读取一个数据</button>
        <button onclick="deleteData()">点我删除一个数据</button>
        <button onclick="deleteAllData()">点我清空数据</button>
        <script>
            let p = {
                name: "joeyee",
                age: 18,
            };
            function saveData() {
                sessionStorage.setItem("msg", "hello");
                sessionStorage.setItem("msg1", 666);
                // sessionStorage.setItem("msg2", p);
                sessionStorage.setItem("msg2", JSON.stringify(p));
            }
            function readData() {
                console.log(sessionStorage.getItem("msg"));
                // 读一个没有设置的属性，输出的是null
                // 当一个未设置属性的value是对象，使用JSON.parse()将其转为对象格式时，输出的也是null
                // console.log(sessionStorage.getItem("msg3"));
                const pObj = sessionStorage.getItem("msg2");
                console.log(JSON.parse(pObj)); //转为对象格式
            }
            function deleteData() {
                sessionStorage.removeItem("msg");
            }
            function deleteAllData() {
                sessionStorage.clear();
            }
        </script>
    </body>
</html>
